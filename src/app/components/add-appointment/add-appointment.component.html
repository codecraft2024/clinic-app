<mat-dialog-content>
    <h5 mat-dialog-title>Add Appointment</h5>
    <form #appointmentForm="ngForm" novalidate>
        <mat-form-field appearance="outline">
            <mat-label>Patient Name</mat-label>
            <input matInput placeholder="Enter patient name" [(ngModel)]="newAppointment.name" name="patientName" required>
            <mat-error *ngIf="appointmentForm.submitted && !appointmentForm.controls['patientName']?.valid">
                Patient Name is required.
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Gender</mat-label>
            <mat-select [(ngModel)]="newAppointment.gender" name="gender" required>
                <mat-option value="Male">Male</mat-option>
                <mat-option value="Female">Female</mat-option>
            </mat-select>
            <mat-error *ngIf="appointmentForm.submitted && !appointmentForm.controls['gender']?.valid">
                Gender is required.
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Phone</mat-label>
            <input matInput placeholder="Enter phone number" [(ngModel)]="newAppointment.phone" name="phone" required>
            <mat-error *ngIf="appointmentForm.submitted && !appointmentForm.controls['phone']?.valid">
                Phone number is required.
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Select Doctor</mat-label>
            <mat-select [(ngModel)]="newAppointment.doctor" name="doctor" required>
                <mat-option *ngFor="let doctor of doctors" [value]="doctor">
                    {{ doctor }}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="appointmentForm.submitted && !appointmentForm.controls['doctor']?.valid">
                Doctor selection is required.
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Status</mat-label>
            <mat-select [(ngModel)]="newAppointment.Status" name="status" required>
                <mat-option value="Pending">Pending</mat-option>
                <mat-option value="Confirmed">Confirmed</mat-option>
                <mat-option value="Cancelled">Cancelled</mat-option>
            </mat-select>
            <mat-error *ngIf="appointmentForm.submitted && !appointmentForm.controls['status']?.valid">
                Status selection is required.
            </mat-error>
        </mat-form-field>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close class="btn btn-secondary">Close</button>
    <button mat-button class="btn btn-primary" (click)="saveAppointment(appointmentForm)">Save</button>
</mat-dialog-actions>
